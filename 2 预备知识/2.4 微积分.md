é€¼è¿‘æ³•å°±æ˜¯_ç§¯åˆ†_ï¼ˆintegral calculusï¼‰çš„èµ·æº

åœ¨å¾®åˆ†å­¦æœ€é‡è¦çš„åº”ç”¨æ˜¯ä¼˜åŒ–é—®é¢˜ï¼Œå³è€ƒè™‘å¦‚ä½•æŠŠäº‹æƒ…åšåˆ°æœ€å¥½ã€‚

å˜å¾—æ›´å¥½æ„å‘³ç€æœ€å°åŒ–ä¸€ä¸ª_æŸå¤±å‡½æ•°_ï¼ˆloss functionï¼‰ï¼Œ å³ä¸€ä¸ªè¡¡é‡â€œæ¨¡å‹æœ‰å¤šç³Ÿç³•â€è¿™ä¸ªé—®é¢˜çš„åˆ†æ•°ã€‚

æˆ‘ä»¬å¯ä»¥å°†æ‹Ÿåˆæ¨¡å‹çš„ä»»åŠ¡åˆ†è§£ä¸ºä¸¤ä¸ªå…³é”®é—®é¢˜ï¼š

- _ä¼˜åŒ–_ï¼ˆoptimizationï¼‰ï¼šç”¨æ¨¡å‹æ‹Ÿåˆè§‚æµ‹æ•°æ®çš„è¿‡ç¨‹ï¼›
    
- _æ³›åŒ–_ï¼ˆgeneralizationï¼‰ï¼šæ•°å­¦åŸç†å’Œå®è·µè€…çš„æ™ºæ…§ï¼Œèƒ½å¤ŸæŒ‡å¯¼æˆ‘ä»¬ç”Ÿæˆå‡ºæœ‰æ•ˆæ€§è¶…å‡ºç”¨äºè®­ç»ƒçš„æ•°æ®é›†æœ¬èº«çš„æ¨¡å‹ã€‚

## 1 å¯¼æ•°å’Œå¾®åˆ†

matplotlibå¯è§†åŒ–

## 2 åå¯¼æ•°

## 3 æ¢¯åº¦

å‘é‡çš„æ¢¯åº¦å®šä¹‰
$$
\nabla_x f(x) = \begin{bmatrix} \frac{\partial f(x)}{\partial x_1}, \frac{\partial f(x)}{\partial x_2}, \dots, \frac{\partial f(x)}{\partial x_n} \end{bmatrix}^\top
$$
å‡è®¾ $x\in\mathbb{R}^n$ï¼ŒA ä¸ºçŸ©é˜µï¼š
$$
\nabla_x (A x) = A^\top
$$
è§„åˆ™ï¼š
$$
\frac{\partial (A x)}{\partial x^\top} = A^\top
$$

$$
\nabla_x (x^\top A) = A
$$

$$
\nabla_x (x^\top A x) = (A + A^\top)x
$$
### èŒƒæ•°å¹³æ–¹çš„æ¢¯åº¦
$$
\nabla_x \|x\|^2 = \nabla_x (x^\top x) = 2x
$$
å› ä¸º$x^\top x = \sum_i x_i^2$ï¼Œæ¯ä¸ªåˆ†é‡çš„å¯¼æ•°éƒ½æ˜¯ $2x_i$ã€‚

å¯¹äºçŸ©é˜µ Xï¼Œå…¶ Frobenius èŒƒæ•°ï¼š
$$
\|X\|F^2 = \sum{i,j} X_{ij}^2
$$
æ¢¯åº¦ä¸ºï¼š
$$
\nabla_X \|X\|_F^2 = 2X
$$
## ğŸ§® å‘é‡ä¸çŸ©é˜µæ±‚å¯¼ç›´è§‰æ€»ç»“

| è¡¨è¾¾å¼ | å‡ ä½•æ„ä¹‰ | å›¾åƒç±»æ¯” | æ¢¯åº¦ç»“æœ | ç›´è§‚ç†è§£ |
|:--------|:-----------|:-----------|:-----------|:-----------|
| $A x$ | çº¿æ€§å˜æ¢ | æŠŠç›´çº¿æˆ–æ–¹å½¢â€œæ—‹è½¬ + æ‹‰ä¼¸ + å‰ªåˆ‡â€ | $A^\top$ | çŸ©é˜µå‘Šè¯‰ä½ è¾“å‡ºéšè¾“å…¥å˜åŒ–çš„æ¯”ä¾‹ï¼›å¯¼æ•°æ˜¯â€œå˜åŒ–å…³ç³»â€çš„è½¬ç½® |
| $x^\top A$ | çº¿æ€§å˜æ¢çš„â€œé•œåƒâ€ | è¡Œå‘é‡ä¹˜çŸ©é˜µï¼Œç›¸å½“äºæ¢è§‚å¯Ÿè§’åº¦ | $A$ | ä¸ä¸Šå¼æ–¹å‘ç›¸åï¼Œä¸éœ€è½¬ç½® |
| $x^\top A x$ | äºŒæ¬¡å‹å‡½æ•° | åƒä¸€ä¸ªç¢—æˆ–æ­ªç¢—çš„è¡¨é¢ | $(A + A^\top)x$ | è¡¨ç¤ºâ€œç¢—çš„æ–œåº¦æ–¹å‘â€ï¼›å¯¹ç§°æ—¶ä¸º $2Ax$ |
| $\|x\|^2 = x^\top x$ | ç‰¹æ®Šçš„å¯¹ç§°äºŒæ¬¡å‹ | å®Œç¾åœ†ç¢— | $2x$ | ç¦»åŸç‚¹è¶Šè¿œï¼Œç¢—è¶Šé™¡ï¼›æ¢¯åº¦æŒ‡å‘å¤– |
| $\|X\|_F^2$ | çŸ©é˜µçš„å¹³æ–¹è·ç¦» | é«˜ç»´ç¢—ï¼ˆæ¯ä¸ªå…ƒç´ ç‹¬ç«‹ï¼‰ | $2X$ | æ¯ä¸ªå…ƒç´ ç‹¬ç«‹å¹³æ–¹æ±‚å’Œï¼Œå¯¼æ•°éƒ½æ˜¯è‡ªèº«ä¸¤å€ |

---

### ğŸ’¡ æ€»ä½“ç›´è§‰
> - **çŸ©é˜µä¹˜æ³• $A x$**ï¼šæè¿°â€œç©ºé—´æ€ä¹ˆå˜å½¢â€ã€‚  
> - **äºŒæ¬¡å‹ $x^\top A x$**ï¼šæè¿°â€œåœ¨å˜å½¢ç©ºé—´é‡Œçš„é«˜åº¦â€ã€‚  
> - **æ¢¯åº¦**ï¼šæŒ‡å‘å‡½æ•°ä¸Šå‡æœ€å¿«çš„æ–¹å‘ï¼ˆç¢—å˜é™¡çš„æ–¹å‘ï¼‰ã€‚

## 4 é“¾å¼æ³•åˆ™

ç„¶è€Œï¼Œä¸Šé¢æ–¹æ³•å¯èƒ½å¾ˆéš¾æ‰¾åˆ°æ¢¯åº¦ã€‚ è¿™æ˜¯å› ä¸ºåœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå¤šå…ƒå‡½æ•°é€šå¸¸æ˜¯_å¤åˆ_ï¼ˆcompositeï¼‰çš„ï¼Œ æ‰€ä»¥éš¾ä»¥åº”ç”¨ä¸Šè¿°ä»»ä½•è§„åˆ™æ¥å¾®åˆ†è¿™äº›å‡½æ•°ã€‚ å¹¸è¿çš„æ˜¯ï¼Œé“¾å¼æ³•åˆ™å¯ä»¥è¢«ç”¨æ¥å¾®åˆ†å¤åˆå‡½æ•°ã€‚

> â€œä¸€ä¸ªå‡½æ•°ç”±å¦ä¸€ä¸ªå‡½æ•°æ„æˆæ—¶ï¼Œæ±‚å®ƒçš„å¯¼æ•°è¦**ä¸€å±‚ä¸€å±‚å¾€é‡Œä¼ **ã€‚â€

$$
\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}
$$
$$
\frac{\partial y}{\partial x_i} = \frac{\partial y}{\partial u_1} \frac{\partial u_1}{\partial x_i} â€¢ \frac{\partial y}{\partial u_2} \frac{\partial u_2}{\partial x_i} â€¢ \cdots â€¢ \frac{\partial y}{\partial u_m} \frac{\partial u_m}{\partial x_i}
$$
## 5 å°ç»“

- å¾®åˆ†å’Œç§¯åˆ†æ˜¯å¾®ç§¯åˆ†çš„ä¸¤ä¸ªåˆ†æ”¯ï¼Œå‰è€…å¯ä»¥åº”ç”¨äºæ·±åº¦å­¦ä¹ ä¸­çš„ä¼˜åŒ–é—®é¢˜ã€‚
    
- å¯¼æ•°å¯ä»¥è¢«è§£é‡Šä¸ºå‡½æ•°ç›¸å¯¹äºå…¶å˜é‡çš„ç¬æ—¶å˜åŒ–ç‡ï¼Œå®ƒä¹Ÿæ˜¯å‡½æ•°æ›²çº¿çš„åˆ‡çº¿çš„æ–œç‡ã€‚
    
- æ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶åˆ†é‡æ˜¯å¤šå˜é‡å‡½æ•°ç›¸å¯¹äºå…¶æ‰€æœ‰å˜é‡çš„åå¯¼æ•°ã€‚
    
- é“¾å¼æ³•åˆ™å¯ä»¥ç”¨æ¥å¾®åˆ†å¤åˆå‡½æ•°ã€‚

## ç»ƒä¹ 

![[Pasted image 20251026004712.png]]

## 2.4.6 ç»ƒä¹ ç®€ç­”

**1ï¼‰ä½œå›¾ä¸åˆ‡çº¿ï¼ˆ$y=f(x)=x^3-\frac{1}{x}$ åœ¨ $x=1$ å¤„ï¼‰**  
$$
f'(x)=3x^2+\frac{1}{x^2}
$$  
$$
f(1)=0,\quad f'(1)=4
$$  
åˆ‡çº¿æ–¹ç¨‹ï¼š
$$
y=f(1)+f'(1)(x-1)=4x-4
$$  
ï¼ˆä½œå›¾æ—¶ç”»å‡ºå‡½æ•°æ›²çº¿ä¸ç›´çº¿ $y=4x-4$ çš„äº¤ç‚¹åœ¨ $(1,0)$ï¼‰

---

**2ï¼‰$f(\mathbf{x})=3x_1^2+5e^{x_2^2}$ çš„æ¢¯åº¦**  
$$
\nabla_{\mathbf{x}} f(\mathbf{x})
=\begin{bmatrix}
\frac{\partial f}{\partial x_1}\\[4pt]
\frac{\partial f}{\partial x_2}
\end{bmatrix}
=\begin{bmatrix}
6x_1\\[4pt]
10x_2 e^{x_2^2}
\end{bmatrix}
$$

---

**3ï¼‰$f(\mathbf{x})=\|\mathbf{x}\|_2$ çš„æ¢¯åº¦**  
$$
\nabla_{\mathbf{x}}\|\mathbf{x}\|_2=
\begin{cases}
\dfrac{\mathbf{x}}{\|\mathbf{x}\|_2}, & \mathbf{x}\neq \mathbf{0},\\[6pt]
\text{æœªå®šä¹‰ï¼ˆæ¬¡æ¢¯åº¦ä¸º }\{\mathbf{g}:\|\mathbf{g}\|_2\le 1\}\text{)}, & \mathbf{x}=\mathbf{0}.
\end{cases}
$$

---

**4ï¼‰é“¾å¼æ³•åˆ™ï¼š$u=f(x,y,z)$ï¼Œä¸” $x=x(a,b),\ y=y(a,b),\ z=z(a,b)$**  
$$
\frac{\partial u}{\partial a}
=\frac{\partial f}{\partial x}\frac{\partial x}{\partial a}
+\frac{\partial f}{\partial y}\frac{\partial y}{\partial a}
+\frac{\partial f}{\partial z}\frac{\partial z}{\partial a}
$$
$$
\frac{\partial u}{\partial b}
=\frac{\partial f}{\partial x}\frac{\partial x}{\partial b}
+\frac{\partial f}{\partial y}\frac{\partial y}{\partial b}
+\frac{\partial f}{\partial z}\frac{\partial z}{\partial b}
$$  
